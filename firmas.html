<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boda Civil - Libro de Firmas</title>
    <link rel="stylesheet" href="css/estilos.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="fade-in">
        <h1 style="font-family: 'Dancing Script', cursive; font-size:3em; color:#d291bc;">Libro de Firmas</h1>
        <nav>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="galeria.html">Galería</a></li>
                <li><a href="video.html">Videos</a></li>
                <li><a href="firmas.html" class="active">Libro de Firmas</a></li>
                <li><a href="agradecimientos.html">Agradecimientos</a></li>
            </ul>
        </nav>
    </header>
    <div id="fondo-animado"></div>
    <main class="fade-in">
        <section class="formulario-firmas" style="text-align:center;">
            <h2 style="font-family: 'Dancing Script', cursive; font-size:2.2em; color:#b5838d; margin-bottom: 0.5em;">Déjanos un mensaje especial</h2>
            <p style="color:#5a3e36; margin-bottom:2em;">¡Tu mensaje será parte de nuestro recuerdo para siempre!</p>
            <form id="form-firmas" style="max-width:400px; margin:0 auto;">
                <input id="nombre" type="text" placeholder="Tu nombre" required style="margin-bottom:1em;">
                <textarea id="mensaje" placeholder="Tu mensaje" rows="3" required style="margin-bottom:1em;"></textarea>
                <button class="boton-principal" type="submit">Enviar</button>
            </form>
            <div style="margin:2.5em 0 1.5em 0;">
                <h3 style="color:#b5838d; margin-bottom:1em;">Mensajes:</h3>
                <div id="lista-firmas" style="text-align:left; max-width:400px; margin:0 auto;"></div>
            </div>
        </section>
    </main>
    <footer class="fade-in">
        <p>Hecho con amor &copy; 2025</p>
    </footer>
    <style>
    #fondo-animado {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: -2;
      pointer-events: none;
      overflow: hidden;
    }
    .particle {
      position: absolute;
      border-radius: 50%;
      opacity: 0.18;
      animation: flotar 18s linear infinite;
    }
    @keyframes flotar {
      0% { transform: translateY(0) scale(1); opacity: 0.18; }
      50% { opacity: 0.32; }
      100% { transform: translateY(-120vh) scale(1.2); opacity: 0.10; }
    }
    </style>
    <script>
        // Utilidad para obtener y guardar mensajes en localStorage
        function obtenerFirmas() {
            return JSON.parse(localStorage.getItem('firmasBoda') || '[]');
        }
        function guardarFirmas(firmas) {
            localStorage.setItem('firmasBoda', JSON.stringify(firmas));
        }
        // Renderizar mensajes
        function renderizarFirmas() {
            const lista = document.getElementById('lista-firmas');
            const firmas = obtenerFirmas();
            if (firmas.length === 0) {
                lista.innerHTML = '<p style="color:#b5838d;">Aún no hay mensajes. ¡Sé el primero en dejar tu huella!</p>';
                return;
            }
            lista.innerHTML = '';
            firmas.forEach((firma, idx) => {
                const div = document.createElement('div');
                div.style = 'background: #fff5f5; border-radius: 15px; box-shadow: 0 2px 8px #d291bc22; padding: 1em 1.2em; margin-bottom: 1em; position:relative;';
                div.innerHTML = `<b style='color:#d291bc;'>${firma.nombre}:</b> ${firma.mensaje}`;
                // Botón borrar
                const btn = document.createElement('button');
                btn.textContent = 'Borrar';
                btn.style = 'position:absolute; top:10px; right:10px; background:linear-gradient(90deg,#d291bc,#ffb4a2); color:white; border:none; border-radius:10px; padding:0.3em 1em; cursor:pointer; font-size:0.9em;';
                btn.onclick = () => {
                    const nuevasFirmas = obtenerFirmas();
                    nuevasFirmas.splice(idx, 1);
                    guardarFirmas(nuevasFirmas);
                    renderizarFirmas();
                };
                div.appendChild(btn);
                lista.appendChild(div);
            });
        }
        // Evento de envío
        document.getElementById('form-firmas').addEventListener('submit', function(e) {
            e.preventDefault();
            const nombre = document.getElementById('nombre').value.trim();
            const mensaje = document.getElementById('mensaje').value.trim();
            if (!nombre || !mensaje) return;
            const firmas = obtenerFirmas();
            firmas.unshift({nombre, mensaje});
            guardarFirmas(firmas);
            this.reset();
            renderizarFirmas();
        });
        // Inicializar
        renderizarFirmas();
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        let lastScroll = 0;
        const header = document.querySelector('header');
        let ticking = false;
        window.addEventListener('scroll', () => {
            if (!ticking) {
                window.requestAnimationFrame(() => {
                    const currentScroll = window.pageYOffset;
                    if (currentScroll > lastScroll && currentScroll > 80) {
                        header.classList.add('header-oculto');
                    } else {
                        header.classList.remove('header-oculto');
                    }
                    lastScroll = currentScroll;
                    ticking = false;
                });
                ticking = true;
            }
        });
    });
    </script>
    <script>
    function crearParticulasFondo() {
      const fondo = document.getElementById('fondo-animado');
      fondo.innerHTML = '';
      const colores = ['#d291bc', '#ffb4a2', '#b5838d', '#fff5f5'];
      for (let i = 0; i < 22; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        const size = Math.random() * 80 + 40;
        p.style.width = p.style.height = size + 'px';
        p.style.left = (Math.random() * 100) + 'vw';
        p.style.bottom = '-' + (Math.random() * 40 + 10) + 'vh';
        p.style.background = colores[Math.floor(Math.random()*colores.length)];
        p.style.animationDuration = (14 + Math.random()*10) + 's';
        fondo.appendChild(p);
      }
    }
    crearParticulasFondo();
    window.addEventListener('resize', crearParticulasFondo);
    </script>
</body>
</html> 